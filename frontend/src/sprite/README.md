# New Modular Sprite System (32x48)

Цель: модульная, расширяемая система для персонажей с палитрами, слоями, анимациями, частями тела и экипировкой.

## Структура
- core/types.ts — базовые типы API
- core/palette.ts — палитры и токены
- core/layer.ts — сборка слоёв, утилиты rows()
- parts/body32.ts — базовые части тела (idle/walk массивы фреймов)
- parts/hair.ts, parts/gear.ts — волосы и снаряжение
- anim/animSets.ts — регистры анимаций, фабрики
- render/compose.ts — финальный рендер + кэш
- demo/PreviewGrid.tsx — пример сетки персонажей

## Дальше
1. (Готово) Перенос из legacy `sprites.ts` завершён — файл удалён.
2. Добавить оттенение ближних/дальних конечностей через суффикс токена (например w,w2).
3. Расширить экипировку: оружие в руке, плащи, броня, аксессуары.
4. Добавить систему поз (pose overrides) для оружия/магии.
5. Реализовать кэш и горизонтальный pivot для variable sheet.
